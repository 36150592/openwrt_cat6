<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<script type="text/javascript">
    $(document).ready(function() {
        var currentId = Page.currentId;
        var count = 0;
        var sysInfo_plmn;
        var loading = '-';

        function loadPage() {

            Page.postJSON({
                json: { cmd: RequestCmd.SYS_INFO },
                success: function(datas) {
                    var data2 = datas.data;   
                    var data_wan = data2.network;
                     var names_run = [],names_sim = [], names_net = [], names_lan = [], names_wan = [],names_lte = [];
                    var values_run = [], values_sim = [], values_net = [], values_lan = [], values_wan = [], values_lte = [];
                    Page.isNULLToSpace = true;


                    names_wan.push(DOC.net.mac);
                    names_wan.push(DOC.net.ip);
                    names_wan.push(DOC.net.mask);
                    names_wan.push(DOC.net.gateway);
                    names_wan.push(DOC.net.dns1);
                    names_wan.push(DOC.net.dns2);


                    values_wan.push(data_wan.mac || loading);
                    values_wan.push(data_wan.ipaddr || loading);
                    values_wan.push(data_wan.netmask || loading);
                    values_wan.push(data_wan.gateway || loading);
                    if(data_wan.ipaddr == undefined){
                            values_wan.push("-");
                            values_wan.push("-");
                    } else {
                            values_wan.push(data_wan.first_dns || loading);
                            values_wan.push(data_wan.second_dns || loading);
                    }
                    
                    names_wan.push(DOC.net.rxPackets);
                    names_wan.push(DOC.net.rxBytes);
                    names_wan.push(DOC.net.txPackets);
                    names_wan.push(DOC.net.txBytes);
                    // names_wan.push(wan_text.manageTime);

                    values_wan.push(data_wan.rx_packets || loading);
                    values_wan.push(data_wan.rx_bytes || loading);
                    values_wan.push(data_wan.tx_packets || loading);
                    values_wan.push(data_wan.tx_bytes || loading);

                   
                   
                    var wan_html = Page.createTable(DOC.title.wan, names_wan, values_wan, names_wan.length, 2).replace("<td>", "<td style=\"width:32%;\">");
                    $('#wan_info').html(wan_html);
                    

                   // Page.setStripeTable();
                    Page.isNULLToSpace = false;
                }
            });


        }

        $('#net_info').click(function(e){
            if(e.target.id == "net_connect"){
                if(!AlertUtil.confirm(prompt.item1)){
                    return false;
                }

                Page.postJSON({
                    json:{
                        cmd: RequestCmd.NET_CONNECT
                    },
                    success: function(){

                    },
                    complete: function(){
                        count = 2;
                        Page.connectStatus = true;
                        $('#connectPrompt').html(prompt.item2);
                    }
                });
            } else if(e.target.id == "net_disconnect"){
                if(!AlertUtil.confirm(prompt.item3)){
                    return false;
                }
                Page.postJSON({
                    json:{
                        cmd: RequestCmd.NET_DISCONNECT
                    },
                    success: function(){

                    },
                    complete: function(){
                        count = 2;
                        Page.connectStatus = false;
                        $('#connectPrompt').html(prompt.item4);
                    }
                });
            }
        });

        loadPage();
    });



</script>

<div class="detail_box">
    <div id="net_info"></div>
    <div id="wan_info"></div>
</div>